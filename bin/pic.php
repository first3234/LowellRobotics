<?php// File and new size$filename = $_GET["src"];if($_GET["percent"]!=NULL){	$percent = $_GET["percent"]/100;}else{	$percent == NULL;	if(($_GET["width"]!=NULL)&&($_GET["height"]!=NULL))	{		$width = $_GET["width"];		$height = $_GET["height"];	}	else if($_GET["width"]!=NULL)	{		$width = $_GET["width"];		$addProcessing = true;	}	else if($_GET["height"]!=NULL)	{		$height = $_GET["height"];		$addProcessing = true;	}	else	{		$BYPASS=true;	}}// Content type$fileNameExploded=explode(".",$filename);$segments = count($fileNameExploded);$fileType = $fileNameExploded[$segments-1];if ($fileType=='png'||$fileType=='PNG'){	header('Content-type: image/png');	$source = imagecreatefrompng($filename);}else if ($fileType=='jpg'||$fileType=='JPG'){	header('Content-type: image/jpg');	$source = imagecreatefromjpeg($filename);}else if ($fileType=='gif'||$fileType=='GIF'){	header('Content-type: image/gif');	$source = imagecreatefromgif($filename);}// Get new sizeslist($orgWidth, $orgHeight) = getimagesize($filename);if($percent != NULL){	$newwidth = $orgWidth * $percent;	$newheight = $orgHeight * $percent;}else if($width!=NULL&&$height!=NULL){	$newwidth = $width;	$newheight = $height;}else if($width!=NULL){	$newwidth=$width;	$newheight=($orgHeight*$width/$orgWidth);}else if($height!=NULL){	$newheight=$height;	$newwidth=($orgWidth*$height/$orgHeight);}else if($BYPASS==true){	$newwidth = $orgWidth;	$newheight = $orgHeight;}// Load$thumb = imagecreatetruecolor($newwidth, $newheight);// Resizeimagecopyresampled($thumb, $source, 0, 0, 0, 0, $newwidth, $newheight, $orgWidth, $orgHeight);// Outputif ($fileType=='png'||$fileType=='PNG'){	imagepng($thumb);}else if ($fileType=='jpg'||$fileType=='JPG'){	imagejpeg($thumb);}else if ($fileType=='gif'||$fileType=='GIF'){	imagegif($thumb);}imagedestroy($thumb);?>